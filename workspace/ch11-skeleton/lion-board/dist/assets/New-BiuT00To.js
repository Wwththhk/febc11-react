import{c as m,b as x,a as b,j as e,L as g}from"./index-B8grBGTx.js";import{u as p}from"./index-SYigVxrp.js";import{a as y,u as h,I as a}from"./index.esm-DSuZsbif.js";import"./userStore-BYH4lJr9.js";function w(){const n=m(),{register:s,handleSubmit:l,formState:{errors:o}}=y(),i=p(),{type:r,_id:f}=x(),c=b(),d=h({mutationFn:t=>{const u={title:t.title,content:t.content,type:r};return i.post("/posts",u)},onSuccess:()=>{alert("게시물이 등록되었습니다."),c.invalidateQueries({queryKey:["posts",r]}),n(`/${r}`)},onError:t=>{console.error(t)}});return e.jsxs("main",{className:"min-w-[320px] p-4",children:[e.jsx("div",{className:"text-center py-4",children:e.jsx("h2",{className:"text-2xl font-bold text-gray-700 dark:text-gray-200",children:"게시글 등록"})}),e.jsx("section",{className:"mb-8 p-4",children:e.jsxs("form",{onSubmit:l(d.mutate),children:[e.jsxs("div",{className:"my-4",children:[e.jsx("label",{className:"block text-lg content-center",htmlFor:"title",children:"제목"}),e.jsx("input",{id:"title",type:"text",placeholder:"제목을 입력하세요.",className:"w-full py-2 px-4 border rounded-md dark:bg-gray-700 border-gray-300 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200",...s("title",{required:"제목은 필수입니다."})}),e.jsx(a,{target:o.title})]}),e.jsxs("div",{className:"my-4",children:[e.jsx("label",{className:"block text-lg content-center",htmlFor:"content",children:"내용"}),e.jsx("textarea",{id:"content",rows:"15",placeholder:"내용을 입력하세요.",className:"w-full p-4 text-sm border rounded-lg border-gray-300 bg-gray-50 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white",...s("content",{required:"내용은 필수입니다."})}),e.jsx(a,{target:o.content})]}),e.jsx("hr",{}),e.jsxs("div",{className:"flex justify-end my-6",children:[e.jsx("button",{type:"submit",className:"bg-orange-500 py-1 px-4 text-base text-white font-semibold ml-2 hover:bg-amber-400 rounded",children:"등록"}),e.jsx(g,{to:"/info",className:"bg-gray-900 py-1 px-4 text-base text-white font-semibold ml-2 hover:bg-amber-400 rounded",children:"취소"})]})]})})]})}export{w as default};
