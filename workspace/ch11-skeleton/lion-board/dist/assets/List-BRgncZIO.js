import{j as e,L as r,b as o}from"./index-B8grBGTx.js";import{P as t,u as m}from"./index-SYigVxrp.js";import{u as x}from"./useQuery-DjLx6EtE.js";import{u as h}from"./userStore-BYH4lJr9.js";i.propTypes={item:t.shape({_id:t.number.isRequired,title:t.string,user:t.shape({name:t.string.isRequired}),views:t.number.isRequired,repliesCount:t.number.isRequired,createdAt:t.string.isRequired})};function i({item:s}){return e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-200 dark:hover:bg-gray-700 transition duration-300 ease-in-out",children:[e.jsx("td",{className:"p-2 text-center",children:s._id}),e.jsx("td",{className:"p-2 truncate indent-4",children:e.jsx(r,{to:`${s._id}`,className:"cursor-pointer",children:s.title})}),e.jsx("td",{className:"p-2 text-center truncate",children:s.user.name}),e.jsx("td",{className:"p-2 text-center hidden sm:table-cell",children:s.views}),e.jsx("td",{className:"p-2 text-center hidden sm:table-cell",children:s.repliesCount}),e.jsx("td",{className:"p-2 truncate text-center hidden sm:table-cell",children:s.createdAt})]})}function w(){const s=m(),{user:c}=h(),{type:n}=o(),{data:l}=x({queryKey:["posts",n],queryFn:()=>s.get("/posts",{params:{type:n}}),select:a=>a.data,staleTime:1e3*10});if(console.log(l),!l)return e.jsx("div",{children:"로딩중..."});const d=l.item.map(a=>e.jsx(i,{item:a},a._id));return e.jsxs("main",{className:"min-w-80 p-10",children:[e.jsx("div",{className:"text-center py-4",children:e.jsx("h2",{className:"pb-4 text-2xl font-bold text-gray-700 dark:text-gray-200",children:"정보 공유"})}),e.jsxs("div",{className:"flex justify-end mr-4",children:[e.jsxs("form",{action:"#",children:[e.jsx("input",{className:"dark:bg-gray-600 bg-gray-100 p-1 rounded",type:"text",name:"keyword"}),e.jsx("button",{type:"submit",className:"bg-orange-500 py-1 px-4 text-base text-white font-semibold ml-2 hover:bg-amber-400 rounded",children:"검색"})]}),c&&e.jsx(r,{to:"new",className:"bg-orange-500 py-1 px-4 text-base text-white font-semibold ml-2 hover:bg-amber-400 rounded",children:"글작성"})]}),e.jsxs("section",{className:"pt-10",children:[e.jsxs("table",{className:"border-collapse w-full table-fixed",children:[e.jsxs("colgroup",{children:[e.jsx("col",{className:"w-[10%] sm:w-[10%]"}),e.jsx("col",{className:"w-[60%] sm:w-[30%]"}),e.jsx("col",{className:"w-[30%] sm:w-[15%]"}),e.jsx("col",{className:"w-0 sm:w-[10%]"}),e.jsx("col",{className:"w-0 sm:w-[10%]"}),e.jsx("col",{className:"w-0 sm:w-[25%]"})]}),e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-solid border-gray-600",children:[e.jsx("th",{className:"p-2 whitespace-nowrap font-semibold",children:"번호"}),e.jsx("th",{className:"p-2 whitespace-nowrap font-semibold",children:"제목"}),e.jsx("th",{className:"p-2 whitespace-nowrap font-semibold",children:"글쓴이"}),e.jsx("th",{className:"p-2 whitespace-nowrap font-semibold hidden sm:table-cell",children:"조회수"}),e.jsx("th",{className:"p-2 whitespace-nowrap font-semibold hidden sm:table-cell",children:"댓글수"}),e.jsx("th",{className:"p-2 whitespace-nowrap font-semibold hidden sm:table-cell",children:"작성일"})]})}),e.jsx("tbody",{children:d})]}),e.jsx("hr",{}),e.jsx("div",{children:e.jsxs("ul",{className:"flex justify-center gap-3 m-4",children:[e.jsx("li",{className:"font-bold text-blue-700",children:e.jsx(r,{to:"/info?page=1",children:"1"})}),e.jsx("li",{children:e.jsx(r,{to:"/info?page=2",children:"2"})})]})})]})]})}export{w as default};
